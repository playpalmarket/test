/* ================== DESIGN TOKENS & SETUP ================== */
:root{
  /* Palette (Core Brand Color Maintained) */
  --primary-blue: #3498db; /* PETER RIVER - Digunakan sebagai warna utama/fokus */
  --primary-blue-rgb: 52, 152, 219;

  /* Status Colors */
  --status-success: #2ecc71; /* EMERALD */
  --status-progress: #3498db; /* PETER RIVER */
  --status-pending: #f1c40f;  /* SUN FLOWER */
  --status-failed: #e74c3c;   /* ALIZARIN */
  --status-text-dark: #2c3e50; /* MIDNIGHT BLUE */

  /* Neutral Palette - LIGHT MODE */
  --bg: #ecf0f1; /* CLOUDS - Latar belakang utama */
  --fill-primary: #ffffff; /* CLOUDS - Warna dasar untuk kartu, input, dll. */
  --fill-secondary: rgba(189, 195, 199, 0.3); /* SILVER - Transparan untuk hover */
  --fill-tertiary: #bdc3c7; /* SILVER */
  
  --text-primary: #2c3e50; /* MIDNIGHT BLUE - Teks paling gelap */
  --text-secondary: #7f8c8d; /* ASBESTOS - Teks abu-abu */
  --text-tertiary: #95a5a6; /* CONCRETE - Teks abu-abu lebih terang */

  --separator: #bdc3c7; /* SILVER - Untuk garis pemisah/border */
  
  /* Layout & Spacing (Unchanged) */
  --maxw:1200px;
  --rail-pad:24px;
  --sp-4:4px; --sp-8:8px; --sp-12:12px; --sp-16:16px; --sp-24:24px; --sp-32:32px; --sp-48:48px;

  /* Controls & Sizing (Unchanged) */
  --control-h:52px;
  --head-pad-y:12px;
  --head-gap-bottom:12px; 
  
  /* Radius & Shadows (Unchanged) */
  --radius-large:18px; --radius-medium:14px; --radius-small:10px;
  --shadow-sm: 0 4px 12px rgba(0,0,0,0.08);
  --shadow-glow: 0 0 0 3px rgba(var(--primary-blue-rgb),.2);
  
  /* Motion (Unchanged) */
  --duration-fast: .18s; --duration-normal: .28s;
  --ease-out-quint: cubic-bezier(.22,.68,0,1.08);
}

/* Dark Mode Tokens */
body.dark-mode{
  /* Neutral Palette - DARK MODE */
  --bg: #2c3e50; /* MIDNIGHT BLUE - Latar belakang utama */
  --fill-primary: #34495e; /* WET ASPHALT - Warna dasar untuk kartu, input, dll. */
  --fill-secondary: #7f8c8d; /* ASBESTOS - Untuk hover */
  --fill-tertiary: #95a5a6; /* CONCRETE */

  --text-primary: #ecf0f1; /* CLOUDS - Teks paling terang */
  --text-secondary: #bdc3c7; /* SILVER - Teks abu-abu */
  --text-tertiary: #95a5a6; /* CONCRETE - Teks abu-abu lebih gelap */

  --separator: #7f8c8d; /* ASBESTOS - Untuk garis pemisah/border */

  --shadow-sm: 0 4px 12px rgba(0,0,0,0.2);
}

/* ================== GLOBAL & RESET ================== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text-primary);
  font-family:'Inter', -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  font-size: 16px; line-height:1.5; letter-spacing:-.01em;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  transition: background-color var(--duration-normal), color var(--duration-normal);
}
h1{ font-size: clamp(28px, 3.5vw, 38px); letter-spacing: -.025em; font-weight: 800; }
p { font-size: clamp(16px, 2vw, 18px); color: var(--text-secondary); }
.icon { width: 22px; height: 22px; transition: color var(--duration-fast), transform var(--duration-fast); }

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
}
.noscript-warning { padding: 16px; background: #f1c40f; color: #2c3e50; text-align: center; font-weight: 700; }

/* ================== PAGE VIEW & SCROLL ANIMATION ================== */
.view-section { display: none; animation: fadeIn var(--duration-normal) var(--ease-out-quint); }
.view-section.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

.reveal-on-scroll { opacity: 0; transform: translateY(30px); transition: opacity .6s var(--ease-out-quint), transform .6s var(--ease-out-quint); }
.reveal-on-scroll.is-visible { opacity: 1; transform: translateY(0); }

/* ================== LAYOUT ================== */
.wrap{ max-width:var(--maxw); margin:0 auto; padding:var(--sp-48) var(--rail-pad); }
[data-rail]{ padding-left:0; padding-right:0; margin-left:0; margin-right:0; width:100%; }
header{text-align:center;margin-bottom:var(--sp-24)}
.logo{height:44px;width:auto}
header h1{margin:10px 0 0;}
header p{margin:4px 0 0;}

/* ================== HEAD BLOCK, MENU & OVERLAY ================== */
.head-block{ margin-bottom: var(--head-gap-bottom); }

.po-head.head-block, .cat-head.head-block {
  position: sticky; top: 0; z-index: 10;
  padding: var(--head-pad-y) 0;
  background: rgba(236, 240, 241, 0.8); /* CLOUDS Transparan */
  backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
  transition: background-color var(--duration-normal);
}
body.dark-mode .po-head.head-block, 
body.dark-mode .cat-head.head-block { background: rgba(44, 62, 80, 0.75); } /* MIDNIGHT BLUE Transparan */

.menu{
  position:absolute; z-index:100; right:0;
  top: calc(var(--control-h) + var(--sp-12));
  background: var(--fill-primary);
  border: 1px solid var(--separator);
  border-radius:var(--radius-medium);
  display:flex; flex-direction:column; min-width:210px; overflow:clip;
  box-shadow: var(--shadow-sm);
  opacity:0; transform: translateY(-6px) scale(.98);
  transition: opacity var(--duration-normal) var(--ease-out-quint), transform var(--duration-normal) var(--ease-out-quint), background-color var(--duration-normal), border-color var(--duration-normal);
  pointer-events:none;
}
.menu.open{opacity:1; transform:translateY(0) scale(1); pointer-events:auto}
.menu-btn{
    padding:var(--sp-12) var(--sp-16); border:0; background:transparent; text-align:left; color:var(--text-primary); font-weight:700; font-size:15px; cursor:pointer; letter-spacing:-.01em;
    opacity: 0;
    transition: opacity .2s var(--ease-out-quint), background-color var(--duration-fast), color var(--duration-normal);
}
.menu.open .menu-btn {
    opacity: 1;
}
.menu-btn:hover{background:var(--fill-secondary)}
.menu-divider{height:1px;background:var(--separator);margin:var(--sp-8) 0; transition: background-color var(--duration-normal);}

/* ================== CONTROLS & FORMS ================== */
.topbar-grid{ 
  display: flex; 
  align-items: center; 
  gap: var(--sp-12); 
}

.topbar-actions {
  display: flex;
  align-items: center;
  gap: var(--sp-12);
  vertical-align: middle;
}

.icon-btn {
  position: relative; width:var(--control-h); height:var(--control-h); border:1px solid var(--separator); border-radius:var(--radius-medium); 
  background:var(--fill-primary); display:grid; place-content:center; cursor:pointer;
  color: var(--text-secondary); 
  transition: all var(--duration-fast) var(--ease-out-quint), background-color var(--duration-normal), border-color var(--duration-normal);
}
.icon-btn:hover { background:var(--fill-secondary); transform:translateY(-2px); color: var(--primary-blue); }
.icon-btn:active { transform: translateY(-1px) scale(0.98); }

#theme-toggle-btn, #theme-toggle-btn-po { overflow: hidden; }
#theme-toggle-btn .icon, #theme-toggle-btn-po .icon {
  position: absolute; top: 50%; left: 50%;
  transition: opacity var(--duration-normal) var(--ease-out-quint), transform var(--duration-normal) var(--ease-out-quint);
}
.icon-sun { opacity: 0; transform: translate(-50%, -50%) rotate(-90deg) scale(0.5); }
.icon-moon { opacity: 1; transform: translate(-50%, -50%) rotate(0deg) scale(1); }
body.dark-mode .icon-sun { opacity: 1; transform: translate(-50%, -50%) rotate(0deg) scale(1); }
body.dark-mode .icon-moon { opacity: 0; transform: translate(-50%, -50%) rotate(90deg) scale(0.5); }

.burger span{ display:block; width:18px; height:1.6px; background:var(--text-secondary); border-radius:1px; transition:transform .3s var(--ease-out-quint), opacity .3s, background-color var(--duration-normal); }
.burger span:not(:last-child){ margin-bottom: 3.3px; }
.burger.active span:nth-child(1){ transform: translateY(4.9px) rotate(45deg); }
.burger.active span:nth-child(2){ transform: scaleX(0); opacity: 0; }
.burger.active span:nth-child(3){ transform: translateY(-4.9px) rotate(-45deg); }

.custom-select-wrapper{
  position:relative;
  flex-grow: 1;
  vertical-align: middle;
}
.custom-select-btn{ 
  width:100%; height:var(--control-h); padding:var(--sp-12) var(--sp-16); background:var(--fill-primary); border:1px solid var(--separator); border-radius:var(--radius-medium); color:var(--text-primary); font-size:16px; font-weight:700; text-align:left; display:flex; justify-content:space-between; align-items:center; cursor:pointer; 
  transition: border-color var(--duration-fast), box-shadow var(--duration-fast), background-color var(--duration-normal), color var(--duration-normal);
  line-height: 1;
}
.custom-select-btn:focus-visible{border-color:var(--primary-blue); box-shadow:var(--shadow-glow); outline:none}
.custom-select-btn .icon { width: 16px; height: 16px; }
.custom-select-wrapper.open .custom-select-btn svg{transform:rotate(180deg)}
.custom-select-options{ position:absolute; top:calc(100% + 8px); left:0; right:0; z-index:50; background:var(--fill-primary); border:1px solid var(--separator); border-radius:var(--radius-medium); max-height:256px; overflow-y:auto; padding:6px 0; opacity:0; transform:translateY(-6px); transition:opacity var(--duration-normal), transform var(--duration-normal), background-color var(--duration-normal), border-color var(--duration-normal); box-shadow: var(--shadow-sm); }
.custom-select-wrapper.open .custom-select-options{opacity:1; transform:translateY(0); pointer-events:auto}
.custom-select-option{padding:10px 14px; font-size:14px; cursor:pointer; color:var(--text-secondary); transition: background-color var(--duration-fast), color var(--duration-fast);}
.custom-select-option:hover, .custom-select-option.selected{background:var(--fill-secondary); color:var(--text-primary)}

.select-native, .status-select { width:100%; height:var(--control-h); padding:0 var(--sp-16); background:var(--fill-primary); border:1px solid var(--separator); border-radius:var(--radius-medium); font-size:16px; color:var(--text-primary); outline:none; appearance:none; transition:border-color var(--duration-fast), box-shadow var(--duration-fast), background-color var(--duration-normal), color var(--duration-normal); font-weight:700; }
.select-native:focus-visible, .status-select:focus-visible { border-color:var(--primary-blue); box-shadow:var(--shadow-glow); }
.select-native{ color: var(--text-tertiary); background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.23 7.21a.75.75 0 011.06.02L10 11.17l3.71-3.94a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z' clip-rule='evenodd'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:right 12px center; background-size:18px; }

.search-row[data-rail], .status-row[data-rail]{ margin-top:var(--sp-12); }
.search-wrap {
  position: relative;
}
.search-wrap .icon {
  position: absolute;
  left: var(--sp-16);
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-tertiary);
  pointer-events: none;
  transition: color var(--duration-normal);
}
.search-input {
  width:100%; 
  height:var(--control-h); 
  padding: 0 var(--sp-16) 0 48px;
  background:var(--fill-primary); 
  border:1px solid var(--separator);
  border-radius:var(--radius-medium); 
  font-size:16px; 
  color:var(--text-primary); 
  outline:none;
  transition:border-color var(--duration-fast), box-shadow var(--duration-fast), background-color var(--duration-normal), color var(--duration-normal);
}
.search-input:focus-visible {
  border-color:var(--primary-blue); 
  box-shadow:var(--shadow-glow);
}
.search-input::placeholder {
  color: var(--text-tertiary);
  opacity: 1;
  transition: color var(--duration-normal);
}

/* ================== KATALOG & PRE-ORDER CARDS ================== */
#viewCatalog{--list-gap: 8px;}
#countInfo[data-rail]{ color:var(--text-secondary); font-size:14px; font-weight:700; margin-top:6px; text-align:right; transition: color var(--duration-normal); }
.list-container[data-rail]{ display:grid; grid-template-columns:1fr; gap:var(--list-gap) }
.list-item{ display:flex; justify-content:space-between; align-items:center; padding:var(--sp-16); background:var(--fill-primary); border:1px solid var(--separator); border-radius:var(--radius-medium); text-decoration:none; color:inherit; transition:transform var(--duration-fast), background-color var(--duration-normal), border-color var(--duration-normal), box-shadow var(--duration-fast); }
.list-item:hover{transform:translateY(-4px); background:var(--fill-secondary); border-color:var(--fill-tertiary); box-shadow: var(--shadow-sm);}
.list-item .title{font-size:15px; font-weight:700; letter-spacing:-.01em; color: var(--text-primary); transition: color var(--duration-normal);}
.list-item .price{font-size:15px; font-weight:800; color:var(--primary-blue); transition: color var(--duration-normal);}
body.dark-mode .list-item:hover .price,
body.dark-mode .list-item:active .price {
  color: var(--text-primary);
}

#viewPreorder{--card-gap: 12px;}
#viewPreorder .meta[data-rail]{ font-size:13px; color:var(--text-secondary); font-weight:700; margin-top:var(--sp-12); transition: color var(--duration-normal); }
#viewPreorder .card-grid[data-rail]{ display:grid; grid-template-columns:1fr; gap:var(--card-gap) }
#viewPreorder .card{ background:var(--fill-primary); border:1px solid var(--separator); border-radius:var(--radius-large); padding:18px; transition:background-color var(--duration-normal), border-color var(--duration-normal), transform var(--duration-fast), box-shadow var(--duration-fast); }
#viewPreorder .card.clickable{cursor:pointer}
/* --- PERUBAHAN: Memperbaiki warna KARTU PRE-ORDER saat diklik di dark mode --- */
#viewPreorder .card.clickable:hover {
  transform: translateY(-4px); 
  background: var(--fill-secondary);
}
body.dark-mode #viewPreorder .card.clickable:hover,
body.dark-mode #viewPreorder .card.expanded {
  background-color: var(--fill-primary); /* Latar tidak berubah agar tulisan jelas */
  border-color: var(--primary-blue);
  box-shadow: var(--shadow-glow);
}

#viewPreorder .card-header{display:grid; grid-template-columns:1fr auto; gap:10px; align-items:start}
#viewPreorder .card-name{font-size:16px; font-weight:800; letter-spacing:-.01em}
#viewPreorder .card-product{ font-size:14px; color:var(--text-secondary); }
#viewPreorder .card-date{font-size:12px; color:var(--text-tertiary); margin-top:8px; grid-column:1/-1}
#viewPreorder .status-badge{ display:inline-flex; align-items:center; gap:8px; padding:6px 12px; border-radius:9999px; font-size:11px; font-weight:900; text-transform:uppercase; letter-spacing:.04em; border:1px solid transparent; transition: background-color var(--duration-normal), border-color var(--duration-normal), color var(--duration-normal); }
#viewPreorder .status-badge::before{content:''; width:6px; height:6px; border-radius:50%; background-color: currentColor;}

/* Light Mode Status Badges */
#viewPreorder .status-badge.success  { color: #27ae60; background-color: rgba(46, 204, 113, 0.15); }
#viewPreorder .status-badge.progress { color: #2980b9; background-color: rgba(52, 152, 219, 0.15); }
#viewPreorder .status-badge.pending  { color: #d35400; background-color: rgba(241, 196, 15, 0.2); }
#viewPreorder .status-badge.failed   { color: #c0392b; background-color: rgba(231, 76, 60, 0.15); }

/* Dark Mode Status Badges */
body.dark-mode #viewPreorder .status-badge.success  { background-color: var(--status-success); color: #fff; }
body.dark-mode #viewPreorder .status-badge.progress { background-color: var(--status-progress); color: #fff; }
body.dark-mode #viewPreorder .status-badge.pending  { background-color: var(--status-pending); color: var(--text-primary); }
body.dark-mode #viewPreorder .status-badge.failed   { background-color: var(--status-failed); color: #fff; }

#viewPreorder .card-details{max-height:0; overflow:hidden; opacity:0; transition:max-height .35s, opacity .25s, margin-top .25s, padding-top .25s, border-color var(--duration-normal); margin-top:0}
#viewPreorder .card.expanded .card-details{max-height:520px; opacity:1; margin-top:14px; padding-top:14px; border-top:1px solid var(--separator)}
#viewPreorder .details-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px}
#viewPreorder .detail-label{font-size:12px; font-weight:800; color:var(--text-tertiary); text-transform:uppercase; letter-spacing:.04em}
#viewPreorder .detail-value{font-size:14px; font-weight:800; letter-spacing:-.01em}

#viewPreorder .pagination[data-rail]{display:flex; justify-content:center; align-items:center; gap:var(--sp-12); margin-top:var(--sp-24)}
#viewPreorder .pagination-btn{
  padding:0 18px; height:42px; background:var(--fill-secondary); border:1px solid var(--separator); border-radius:var(--radius-small);
  font-size:14px; font-weight:800; color:var(--text-primary); cursor:pointer;
  transition:transform var(--duration-fast), background-color var(--duration-normal), border-color var(--duration-normal), box-shadow var(--duration-fast), color var(--duration-normal);
}
#viewPreorder .pagination-btn:hover:not(:disabled){transform:translateY(-2px); background:var(--fill-tertiary); border-color:var(--fill-tertiary); box-shadow:var(--shadow-sm);}
#viewPreorder .pagination-btn:disabled{opacity:.4; cursor:not-allowed;}

/* ================== UTILITY & STATES ================== */
.empty{border:1px dashed var(--separator); border-radius:var(--radius-large); padding:56px; text-align:center; color:var(--text-secondary); font-size:16px; grid-column:1/-1; transition: border-color var(--duration-normal), color var(--duration-normal);}
.err{ border:1px solid var(--status-failed); background:rgba(231, 76, 60, 0.1); color:var(--status-failed); border-radius:var(--radius-medium); padding:16px; text-align:center; font-weight:700; }
.skeleton{ position: relative; overflow: hidden; background-color: var(--fill-secondary); }
.skeleton::after{ content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; transform: translateX(-100%); background-image: linear-gradient(90deg, transparent, rgba(149, 165, 166, 0.2), transparent); animation: shimmer 1.5s infinite; }
body.dark-mode .skeleton::after { background-image: linear-gradient(90deg, transparent, rgba(127, 140, 141, 0.2), transparent); }
.skeleton-text{ display: block; background-color: var(--fill-tertiary); border-radius: 4px; height: 16px; }
.skeleton-badge{ width: 90px; height: 28px; background-color: var(--fill-tertiary); border-radius: 999px; }
@keyframes shimmer { 100% {transform: translateX(100%);} }

/* ================== RESPONSIVE BREAKPOINTS ================== */
@media (min-width: 769px) {
  #viewCatalog{--list-gap: 16px;}
  #viewCatalog .list-container[data-rail]{ grid-template-columns: repeat(2, 1fr); }
  
  #viewPreorder{--card-gap: 16px;}
  #viewPreorder .card-grid[data-rail]{ grid-template-columns: repeat(auto-fill, minmax(400px, 1fr)); }
}
@media (min-width: 1024px) {
  #viewCatalog .list-container[data-rail]{ grid-template-columns: repeat(3, 1fr); }
}

/* Menyesuaikan ukuran font tagline agar menjadi satu baris */
header p {
  font-size: clamp(14px, 3.5vw, 16px);
}

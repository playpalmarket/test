:root{
  /* 1. PALET UTAMA (Inspirasi Russian Constructivism Flat Color) */
  --primary-red: #B71C1C; /* Warna primer baru: Merah tua yang tegas */
  --primary-red-rgb: 183, 28, 28;

  /* 2. SISTEM WARNA NETRAL & SEMANTIK */
  --bg: #FDFBF5;                  /* Latar belakang: Krem / off-white lembut */
  --text-primary: #2A2A2A;        /* Teks utama: Hitam arang (charcoal) */
  --text-secondary: #757575;      /* Teks sekunder: Abu-abu hangat */
  --text-tertiary: #A1A1A1;       /* Teks tersier: Abu-abu lebih terang */
  --fill-primary: #FFFFFF;        /* Latar kartu: Putih bersih untuk kontras */
  --fill-secondary: #F5F2EA;      /* Latar hover: Krem lebih gelap */
  --fill-tertiary: #EFEBE0;       /* Latar hover sekunder */
  --separator: #E0E0E0;           /* Garis pemisah */
  --success: #34a853;
  --warning: #fbbc04;
  --error: #ea4335;

  /* 3. LAYOUT & SPACING SYSTEM (8dp Grid) */
  --maxw: 1080px;
  --space-xs: 4px;   /* 0.25rem */
  --space-sm: 8px;   /* 0.5rem  */
  --space-md: 16px;  /* 1.0rem  */
  --space-lg: 24px;  /* 1.5rem  */
  --space-xl: 32px;  /* 2.0rem  */
  --space-2xl: 48px; /* 3.0rem  */

  /* 4. TYPOGRAPHY SCALE */
  --body-medium: 16px;
  --body-small: 14px;
  --line-height-normal: 1.5;
  --line-height-tight: 1.2;

  /* 5. GEOMETRY & TIMING */
  --control-h: 52px;
  --radius-large: 16px;
  --radius-medium: 12px;
  --radius-small: 10px;
  --transition-curve: cubic-bezier(.4, 0, .2, 1);
  --transition-duration: .24s;
}
@media (prefers-color-scheme: dark){
  :root{
    --bg: #1A1A1A;
    --text-primary: #FDFBF5;
    --text-secondary: #A1A1A1;
    --text-tertiary: #757575;
    --fill-primary: #2A2A2A;
    --fill-secondary: #3A3A3A;
    --fill-tertiary: #4A4A4A;
    --separator: #3C3C3C;
  }
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text-primary);
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  font-size:var(--body-medium); line-height:var(--line-height-normal); letter-spacing:-.01em;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  -ms-touch-action:manipulation; touch-action:manipulation;
}
html { text-size-adjust:100%; -webkit-text-size-adjust:100%; }

/* ================== RAIL SYSTEM ================== */
.wrap{ max-width:var(--maxw); margin:0 auto; padding:var(--space-2xl) var(--space-md); }
[data-rail]{ padding-left:0; padding-right:0; margin-left:0; margin-right:0; width:100%; }

/* ================== HEADER ================== */
header{text-align:center; margin-bottom:var(--space-md)}
.logo{height:44px;width:auto}
header h1{margin:10px 0 0;font-size:clamp(26px,3.5vw,34px);font-weight:700;letter-spacing:-.02em}
header p{margin:4px 0 0;color:var(--text-secondary);font-size:var(--body-medium)}

/* ================== HEAD-BLOCK ================== */
.head-block[data-rail]{
  padding: 12px 0;
  margin: 0 0 var(--space-md);
  border-bottom: 1px solid var(--separator);
}
.po-head.head-block{
  position: sticky; top: 0; z-index: 10;
  background: rgba(253, 251, 245, .72); /* Updated to match new --bg */
  backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
}
@media (prefers-color-scheme: dark){
  .po-head.head-block{ background: rgba(26, 26, 26, .62); } /* Updated to match new dark --bg */
}
.head-block .topbar[data-rail]{ margin:0 !important; }

/* ================== MENU FLYOUT ================== */
.menu{
  position:absolute; z-index:100; right:0; top:calc(var(--control-h) + 4px);
  background:rgba(255,255,255,.72); border:1px solid rgba(0,0,0,.04);
  border-radius:var(--radius-medium); backdrop-filter:blur(14px); -webkit-backdrop-filter:blur(14px);
  display:flex; flex-direction:column; min-width:210px; overflow:clip;
  opacity:0; transform:translateY(-6px) scale(.98);
  transition: opacity var(--transition-duration) var(--transition-curve), transform var(--transition-duration) var(--transition-curve);
  pointer-events:none;
}
.menu.open{opacity:1; transform:translateY(0) scale(1); pointer-events:auto}
.menu-btn{
  padding:12px var(--space-md); border:0; background:transparent; text-align:left;
  color:var(--text-primary); font-weight:700; font-size:15px; cursor:pointer; letter-spacing:-.01em;
}
.menu-btn:hover{background:rgba(0,0,0,.04)}
.menu-divider{height:1px;background:var(--separator);margin:6px 0}
@media (prefers-color-scheme: dark){
  .menu{background:rgba(42,42,42,.72); border-color:rgba(255,255,255,.08)}
  .menu-btn:hover{background:rgba(255,255,255,.06)}
}

/* ================== TOPBAR (Katalog & Pre‑Order) ================== */
.topbar[data-rail]{ position:relative; }
.topbar-grid{
  display:grid; grid-template-columns:minmax(320px,1fr) var(--control-h);
  gap:10px; align-items:center;
}
.icon-btn.burger{
  width:var(--control-h); height:var(--control-h);
  border:1px solid var(--separator); border-radius:var(--radius-medium);
  background:var(--fill-primary); display:grid; place-content:center; cursor:pointer;
  transition:border-color .2s, background .2s, transform .18s;
  &:hover{background:var(--fill-secondary); transform:translateY(-1px)}
  & span{
    display:block; width:18px; height:1.6px; background:var(--text-secondary); 
    border-radius:1px; margin:3.3px 0; 
    transition:transform .25s, opacity .25s;
  }
  &.active span:nth-child(1){transform:translateY(4.9px) rotate(45deg)}
  &.active span:nth-child(2){opacity:0; transform:scaleX(0)}
  &.active span:nth-child(3){transform:translateY(-4.9px) rotate(-45deg)}
}


/* Dropdown custom (Katalog) */
.custom-select-wrapper{position:relative}
.custom-select-btn{
  width:100%; height:var(--control-h); padding:12px var(--space-md);
  background:var(--fill-primary); border:1px solid var(--separator); border-radius:var(--radius-medium);
  color:var(--text-primary); font-size:var(--body-medium); font-weight:700; text-align:left;
  display:flex; justify-content:space-between; align-items:center; cursor:pointer;
  transition:border-color .2s, box-shadow .2s;
}
.custom-select-btn:focus{border-color:var(--primary-red); box-shadow:0 0 0 3px rgba(var(--primary-red-rgb),.18); outline:none}
.custom-select-btn svg{width:16px; height:16px; color:var(--text-tertiary); transition:transform var(--transition-duration) var(--transition-curve)}
.custom-select-wrapper.open .custom-select-btn svg{transform:rotate(180deg)}
.custom-select-options{
  position:absolute; top:calc(100% + var(--space-sm)); left:0; right:0; z-index:50;
  background:var(--fill-primary); border:1px solid var(--separator);
  border-radius:var(--radius-medium); max-height:256px; overflow-y:auto; padding:6px 0;
  opacity:0; transform:translateY(-6px); transition:opacity var(--transition-duration), transform var(--transition-duration); pointer-events:none;
}
.custom-select-wrapper.open .custom-select-options{opacity:1; transform:translateY(0); pointer-events:auto}
.custom-select-option{padding:10px 14px; font-size:var(--body-small); cursor:pointer; color:var(--text-secondary)}
.custom-select-option:hover, .custom-select-option.selected{background:var(--fill-secondary); color:var(--text-primary)}

/* Select native (Pre‑Order) */
.select-native{
  width:100%; height:var(--control-h); padding:0 var(--space-md);
  background:var(--fill-primary); border:1px solid var(--separator); border-radius:var(--radius-medium);
  font-size:var(--body-medium); font-weight:700; color:var(--text-primary); outline:none; appearance:none;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%23A1A1A1'%3E%3Cpath fill-rule='evenodd' d='M5.23 7.21a.75.75 0 011.06.02L10 11.17l3.71-3.94a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z' clip-rule='evenodd'/%3E%3C/svg%3E");
  background-repeat:no-repeat; background-position:right 12px center; background-size:18px;
  transition:border-color .2s, box-shadow .2s;
}
.select-native:focus{border-color:var(--primary-red); box-shadow:0 0 0 3px rgba(var(--primary-red-rgb),.18)}

/* Search */
.search-row[data-rail]{ margin-top:10px; }
.search-wrap{position:relative}
.search-wrap svg{position:absolute; left:14px; top:50%; transform:translateY(-50%); width:18px; height:18px; color:var(--text-tertiary)}
.search-input{
  width:100%; height:var(--control-h); padding:0 var(--space-md) 0 44px;
  background:var(--fill-primary); border:1px solid var(--separator); border-radius:var(--radius-medium);
  font-size:var(--body-medium); color:var(--text-primary); outline:none; transition:border-color .2s, box-shadow .2s;
}
.search-input:focus{border-color:var(--primary-red); box-shadow:0 0 0 3px rgba(var(--primary-red-rgb),.18)}

/* ================== KATALOG ================== */
#viewCatalog{display:block}
#countInfo[data-rail]{ color:var(--text-secondary); font-size:var(--body-small); font-weight:700; margin-top:6px; text-align:right }
.list-container[data-rail]{ display:flex; flex-direction:column; gap:var(--space-sm) }
.list-item{
  display:flex; justify-content:space-between; align-items:center; padding:var(--space-md); background:var(--fill-primary);
  border:1px solid var(--separator); border-radius:var(--radius-medium); text-decoration:none; color:inherit;
  transition:transform .18s, background-color .18s, border-color .18s;
  &:hover{transform:translateY(-2px); background:var(--fill-secondary); border-color:var(--fill-tertiary)}
  & .title{font-size:15px; font-weight:700; letter-spacing:-.01em}
  & .price{font-size:15px; font-weight:800; color:var(--primary-red)}
}
.empty,.err{border:1px dashed var(--separator); border-radius:var(--radius-large); padding:var(--space-2xl); text-align:center; color:var(--text-secondary); font-size:var(--body-medium)}
#error.err { border-color: var(--error); color: var(--error); background: rgba(234, 67, 53, 0.05); }


/* ================== PRE-ORDER ================== */
#viewPreorder{display:none}
.status-row[data-rail]{ margin-top:10px; }
.status-select{
  width:100%; height:var(--control-h); padding:0 var(--space-md); font-size:var(--body-medium);
  border:1px solid var(--separator); border-radius:var(--radius-medium);
  background:var(--fill-primary); color:var(--text-primary); appearance:none; outline:none;
  transition:border-color .2s, box-shadow .2s;
}
.status-select:focus{border-color:var(--primary-red); box-shadow:0 0 0 3px rgba(var(--primary-red-rgb),.18)}

#viewPreorder .meta[data-rail]{ font-size:13px; color:var(--text-secondary); font-weight:700; margin-top:10px }

#viewPreorder .card-grid[data-rail]{ display:flex; flex-direction:column; gap:12px }
#viewPreorder .card{
  background:var(--fill-primary); border:1px solid var(--separator); border-radius:var(--radius-large); padding:18px;
  transition:background .18s, border-color .18s, transform .18s;
  &.clickable:hover{transform:translateY(-2px); background:var(--fill-secondary); border-color:var(--fill-tertiary)}
}
#viewPreorder .card.clickable{cursor:pointer}
#viewPreorder .card-header{display:grid; grid-template-columns:1fr auto; gap:10px; align-items:start}
#viewPreorder .card-name{font-size:var(--body-medium); font-weight:800; letter-spacing:-.01em}
#viewPreorder .card-product{font-size:var(--body-small); color:var(--text-secondary)}
#viewPreorder .card-date{font-size:12px; color:var(--text-tertiary); margin-top:var(--space-sm); grid-column:1/-1}

#viewPreorder .status-badge{
  display:inline-flex; align-items:center; gap:var(--space-sm); padding:6px 12px; border-radius:9999px;
  font-size:11px; font-weight:900; text-transform:uppercase; letter-spacing:.04em; border:1px solid transparent;
  &::before{content:''; width:6px; height:6px; border-radius:50%}
  &.success{color:#166534; background:#ecfdf5; border-color:#d1fae5; &::before{background:var(--success)}}
  &.progress{color:#1e3a8a; background:#eff6ff; border-color:#dbeafe; &::before{background:#3b82f6}}
  &.pending{color:#854d0e; background:#fefce8; border-color:#fde68a; &::before{background:var(--warning)}}
  &.failed{color:#991b1b; background:#fef2f2; border-color:#fecaca; &::before{background:var(--error)}}
}


#viewPreorder .card-details{max-height:0; overflow:hidden; opacity:0; transition:max-height .35s, opacity .25s, margin-top .25s, padding-top .25s; margin-top:0}
#viewPreorder .card.expanded .card-details{max-height:520px; opacity:1; margin-top:14px; padding-top:14px; border-top:1px solid var(--separator)}
#viewPreorder .details-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px}
#viewPreorder .detail-label{font-size:12px; font-weight:800; color:var(--text-tertiary); text-transform:uppercase; letter-spacing:.04em}
#viewPreorder .detail-value{font-size:var(--body-small); font-weight:800; letter-spacing:-.01em}

#viewPreorder .pagination[data-rail]{display:flex; justify-content:center; align-items:center; gap:10px; margin-top:var(--space-lg)}
#viewPreorder .pagination-btn{
  padding:0 18px; height:42px; background:var(--fill-secondary); border:1px solid var(--separator); border-radius:var(--radius-small);
  font-size:var(--body-small); font-weight:800; color:var(--text-primary); cursor:pointer; transition:transform .18s, background .18s, border-color .18s;
  &:hover:not(:disabled){transform:translateY(-1px); background:var(--fill-tertiary); border-color:var(--fill-tertiary)}
  &:disabled{opacity:.55; cursor:not-allowed}
}

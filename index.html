<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>PlayPal.ID</title>
  <meta name="description" content="Destinasi Utama Para Pecinta Game, Film & Musik" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800;900&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>
</head>
<body>
  <noscript>
    <div class="noscript-warning">Website ini membutuhkan JavaScript untuk berfungsi sepenuhnya. Aktifkan JavaScript di browser Anda.</div>
  </noscript>

  <main class="wrap">
    <header class="reveal-on-scroll" data-rail>
      <img src="logo.png" alt="PlayPal.ID" class="logo" />
      <h1>PlayPal.ID</h1>
      <p>Destinasi utama para pecinta game, film &amp; musik</p>
    </header>

    <!-- Toolbar utama -->
    <section class="toolbar reveal-on-scroll" data-rail aria-label="Toolbar Utama">
      <button id="theme-toggle-btn" class="icon-btn" type="button" aria-label="Ubah Tema">
        <svg class="icon icon-sun" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 4V2m0 20v-2m8-8h2M2 12h2m12.95 6.95l1.41 1.41M5.64 5.64L4.22 4.22m0 15.56l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
        <svg class="icon icon-moon" viewBox="0 0 24 24" aria-hidden="true"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
      </button>

      <div class="spacer" style="flex:1"></div>

      <div class="menu-host">
        <button id="burgerCat" class="burger" type="button" aria-haspopup="true" aria-expanded="false" aria-controls="menuCat">
          <span></span><span></span><span></span>
        </button>
        <div id="menuCat" class="menu" role="menu" aria-label="Menu Katalog"></div>
      </div>

      <div class="menu-host">
        <button id="burgerPO" class="burger" type="button" aria-haspopup="true" aria-expanded="false" aria-controls="menuPO">
          <span></span><span></span><span></span>
        </button>
        <div id="menuPO" class="menu" role="menu" aria-label="Menu Pre-Order"></div>
      </div>

      <div class="menu-host">
        <button id="burgerAcc" class="burger" type="button" aria-haspopup="true" aria-expanded="false" aria-controls="menuAcc">
          <span></span><span></span><span></span>
        </button>
        <div id="menuAcc" class="menu" role="menu" aria-label="Menu Akun"></div>
      </div>
    </section>

    <!-- KATALOG -->
    <section id="viewCatalog" class="view-section active" aria-labelledby="catalogTitle">
      <h2 id="catalogTitle" class="visually-hidden">Katalog</h2>

      <div class="toolbar mt-5" data-rail>
        <div class="search" style="flex:1">
          <input id="search" class="search-input" type="search" inputmode="search" autocomplete="off" placeholder="Cari item…" aria-label="Cari item" />
        </div>

        <div id="custom-select-wrapper" class="custom-select-wrapper" aria-label="Pilih Game">
          <button id="custom-select-btn" class="custom-select-btn" type="button" aria-expanded="false" aria-haspopup="listbox">
            <span id="custom-select-value">Memuat…</span>
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.25 9.75L12 13.5l3.75-3.75" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <div id="custom-select-options" class="custom-select-options" role="listbox"></div>
        </div>
      </div>

      <div class="mt-4" data-rail>
        <div id="countInfo" class="text-muted" aria-live="polite"></div>
        <div id="error" class="text-muted mt-3" role="status" aria-live="polite" style="display:none"></div>
        <div id="list-container" class="grid mt-4"></div>
      </div>
    </section>

    <!-- PRE-ORDER -->
    <section id="viewPreorder" class="view-section" aria-labelledby="preorderTitle">
      <h2 id="preorderTitle" class="visually-hidden">Lacak Pre-Order</h2>

      <div class="po-controls toolbar" data-rail>
        <input id="poSearch" class="search-input" type="search" placeholder="Cari nama / ID…" aria-label="Pencarian Pre-Order" />
        <select id="poSheet" class="select-native" aria-label="Pilih Sheet">
          <option value="Sheet1">Sheet 1</option>
          <option value="Sheet2">Sheet 2</option>
        </select>
        <select id="poStatus" class="status-select" aria-label="Filter Status">
          <option value="all">Semua Status</option>
          <option value="success">Selesai</option>
          <option value="progress">Diproses</option>
          <option value="pending">Pending</option>
          <option value="failed">Gagal / Dibatalkan</option>
        </select>
      </div>

      <div class="po-summary mt-4" data-rail>
        <div>Total Data: <strong id="poTotal">0</strong></div>
        <div>
          <button id="poPrev" class="btn" type="button">Sebelumnya</button>
          <button id="poNext" class="btn" type="button">Berikutnya</button>
        </div>
      </div>

      <div class="po-list mt-4" data-rail id="poList" aria-live="polite"></div>
    </section>

    <!-- AKUN GAME -->
    <section id="viewAccounts" class="view-section" aria-labelledby="accountsTitle">
      <h2 id="accountsTitle" class="visually-hidden">Akun Game</h2>

      <div class="toolbar" data-rail>
        <button id="theme-toggle-btn-acc" class="icon-btn" type="button" aria-label="Ubah Tema">
          <svg class="icon icon-sun" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 4V2m0 20v-2m8-8h2M2 12h2m12.95 6.95l1.41 1.41M5.64 5.64L4.22 4.22m0 15.56l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
          <svg class="icon icon-moon" viewBox="0 0 24 24" aria-hidden="true"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
        </button>

        <div class="spacer" style="flex:1"></div>

        <label for="accountSelect" class="visually-hidden">Pilih Game</label>
        <select id="accountSelect" class="select-native" aria-label="Pilih Game"></select>
      </div>

      <div class="account-wrap mt-4" data-rail>
        <div id="accountDisplay" class="account-card" hidden>
          <div class="carousel">
            <div id="carouselTrack"></div>
            <div class="carousel-nav">
              <button id="carouselPrev" class="icon-btn" type="button" aria-label="Gambar Sebelumnya">‹</button>
              <button id="carouselNext" class="icon-btn" type="button" aria-label="Gambar Berikutnya">›</button>
            </div>
          </div>

          <div class="meta">
            <div class="row"><div>Status</div><div id="accountStatus" class="po-badge status-pending">—</div></div>
            <div class="row"><div>Harga</div><div id="accountPrice">—</div></div>
            <div class="row"><div>Deskripsi</div><div id="accountDescription" class="text-muted">—</div></div>
          </div>

          <div class="account-actions">
            <a id="buyAccountBtn" class="btn btn-primary center" href="#" target="_blank" rel="noopener">Beli via WhatsApp</a>
            <a id="offerAccountBtn" class="btn center" href="#" target="_blank" rel="noopener">Tawar / Tanya</a>
          </div>
        </div>

        <div id="accountEmpty" class="empty">Pilih game untuk melihat akun tersedia.</div>
        <div id="accountError" class="empty" style="display:none">Gagal memuat data. Coba lagi nanti.</div>
      </div>
    </section>
  </main>

  <!-- TEMPLATE LIST ITEM -->
  <template id="itemTmpl">
    <div class="list-item">
      <div class="title">—</div>
      <div class="price">—</div>
    </div>
  </template>

  <!-- SKELETONS -->
  <template id="skeletonItemTmpl">
    <div class="list-item skeleton">
      <div class="title">&nbsp;</div>
      <div class="price">&nbsp;</div>
    </div>
  </template>

  <template id="skeletonCardTmpl">
    <div class="card skeleton" style="height:180px"></div>
  </template>

  <!-- MODAL PEMBAYARAN -->
  <div id="paymentModal" role="dialog" aria-modal="true" aria-labelledby="modalItemName" aria-describedby="modalItemPrice" hidden>
    <div class="modal-card">
      <div class="modal-head">
        <h3 id="modalItemName">Item</h3>
        <button id="closeModalBtn" class="icon-btn" type="button" aria-label="Tutup">✕</button>
      </div>

      <div class="modal-body">
        <div>
          <div class="text-muted">Harga</div>
          <div id="modalItemPrice" style="font-weight:800">—</div>
        </div>

        <div>
          <div class="text-muted">Metode Pembayaran</div>
          <div id="paymentOptions"></div>
        </div>

        <div class="payment-summary">
          <div>Fee: <span id="modalFee">—</span></div>
          <div><strong>Total: <span id="modalTotal">—</span></strong></div>
        </div>
      </div>

      <div class="modal-actions">
        <a id="continueToWaBtn" class="btn btn-primary center" href="#" target="_blank" rel="noopener">Lanjutkan ke WhatsApp</a>
      </div>
    </div>
  </div>

  <!-- Tombol tema khusus halaman PO (ID dipakai JS) -->
  <button id="theme-toggle-btn-po" hidden></button>

  <!-- util: elemen untuk kelas aksesibilitas -->
  <style>
    .visually-hidden{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,1px,1px);white-space:nowrap;border:0}
  </style>
</body>
</html>
